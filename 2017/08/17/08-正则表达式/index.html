<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 08_正则表达式 · hang 's blogs</title><meta name="description" content="08_正则表达式 - hang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/tinytinycn.github.io/favicon.png"><link rel="stylesheet" href="/tinytinycn.github.io/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://github.com/atom.xml" title="hang 's blogs"></head><body><div class="wrap"><header><a href="/tinytinycn.github.io/" class="logo-link"><img src="/tinytinycn.github.io/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/tinytinycn.github.io/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/tinytinycn.github.io/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/tinytinycn.github.io/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">08_正则表达式</h1><div class="post-info">Aug 17, 2017</div><div class="post-content"><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><blockquote>
<p>正则表达式，就是一个用于匹配字符串的模板，可以匹配一批字符串。创建正则表达式，就是创建一个特殊字符串。</p>
</blockquote>
<ol>
<li>特殊字符：这些字符在正则表达式中有特殊用途而被占用。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">\</span><br><span class="line">转义字符，用于转义下一个字符。如\0mnn \xhh \uhhhh \n \t 等（详见合法字符）</span><br><span class="line">.</span><br><span class="line">匹配除换行符\n 之外的任何单字符</span><br><span class="line">?</span><br><span class="line">指定前面子表达式 可以出现 0次或 1次</span><br><span class="line">+</span><br><span class="line">指定前面子表达式 可以出现 1次或多次</span><br><span class="line">*</span><br><span class="line">指定前面子表达式 可以出现 0次或多次</span><br><span class="line">&#123; &#125;</span><br><span class="line">标记前面子表达式 的出现频度（次数）</span><br><span class="line">[ ]</span><br><span class="line">标记中括号表达式 开始和结束位置</span><br><span class="line">( )</span><br><span class="line">标记子表达式 开始和结束位置</span><br><span class="line">^</span><br><span class="line">匹配一行的开头</span><br><span class="line">$</span><br><span class="line">匹配一行的结尾</span><br><span class="line">|</span><br><span class="line">指定两项之间任选一项</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><strong>值得注意的是：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 如果要在字符串中匹配这些字符，必须加上转义字符（\）。例如：\\  \.  \?  \+  \&#123;   \[</span><br><span class="line">2. 转义字符是特殊字符的一种，它不同于通常意义上的反斜线（\）字符。</span><br><span class="line">3. 值得一提的是，在Java开发中，如果正则表达式的字符串中包含\（例如：\.  \?  \+），（Java语法中 \也是转义字符）则需要先转义字符串中所有的\ 。因此，正则表达式在Java中以字符串形式，则应如下 \\.  \\? \\+ \\&#123;  \\[</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>合法字符：代表某一单个字符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">x</span><br><span class="line">字符x （x代表任何合法的字符，例如：a B c d , ; &quot; &apos; ! @ # 等）除了特殊字符</span><br><span class="line">\0mnn</span><br><span class="line">八进制数 0mnn所代表的所有字符</span><br><span class="line">\xhh</span><br><span class="line">十六进制数 0xhh所代表的所有字符</span><br><span class="line">\uhhhh</span><br><span class="line">十六进制数 0xhhhh所代表的UNICODE字符</span><br><span class="line">\t</span><br><span class="line">制表符（&apos;\u0009&apos;）</span><br><span class="line">\n</span><br><span class="line">换行符（&apos;\u000A&apos;）</span><br><span class="line">\r</span><br><span class="line">回车符（&apos;\u000D&apos;）</span><br><span class="line">\f</span><br><span class="line">换页符（&apos;\u000C&apos;）</span><br><span class="line">\a</span><br><span class="line">报警符（&apos;\u0007&apos;）</span><br><span class="line">\e</span><br><span class="line">Escape符（&apos;\u001B&apos;）</span><br><span class="line">\cx</span><br><span class="line">x 对应的控制符（例如：\cM 匹配Ctrl-M）x 必须是A~Z或a~z 之一的值</span><br><span class="line">上述合法字符用到了转义字符\，所以在正则表达式的字符串中，则应如下：\\u0041  \\t \\n \\r</span><br></pre></td></tr></table></figure>
</li>
<li><p>预定义字符：就是通配符，可以匹配多个字符的特殊字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">匹配任何字符（除了 换行符\n）</span><br><span class="line">\d</span><br><span class="line">匹配所有数字（0~9中任意一个）</span><br><span class="line">\D</span><br><span class="line">匹配非数字</span><br><span class="line">\s</span><br><span class="line">匹配所有空白字符（空格 制表符 回车符 换页符 换行符）</span><br><span class="line">\S</span><br><span class="line">匹配非空白字符</span><br><span class="line">\w</span><br><span class="line">匹配所有单词字符（0~9数字、26个英文字母、下画线_）</span><br><span class="line">\W</span><br><span class="line">匹配非单词字符</span><br><span class="line">d: digit s: space w: word</span><br></pre></td></tr></table></figure>
</li>
<li><p>中括号（方括号）表达式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">表示枚举</span><br><span class="line">[abc]表示a、b、c中任意一个字符</span><br><span class="line">表示范围</span><br><span class="line">[a-f]表示a~f范围内的任意一个字符；结合枚举：[a-fx-z]表示a~f、x~z范围内的任意一个字符</span><br><span class="line">表示求否 ^</span><br><span class="line">[^abc]表示 非a、b、c的任意一个字符；结合范围：[^a-f]表示a~f范围以外的任意一个字符</span><br><span class="line">表示与运算 &amp;&amp;</span><br><span class="line">[a-z&amp;&amp;[b-y]]表示a~z和b~y的交集</span><br><span class="line">表示并运算</span><br><span class="line">类似枚举，[a-d[x-z]]等同于[a-dm-p]</span><br><span class="line">需要注意的是：字符 - ^ &amp;&amp; [ ] 在中括号表达式中的特殊意义和作用。</span><br></pre></td></tr></table></figure>
</li>
<li><p>子（圆括号）表达式：用于多个表达式组成一个子表达式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">|</span><br><span class="line">或运算符，(xxx|yyy|zzz)表示匹配其中的一个（xxx或yyy或zzz 都可以匹配）</span><br></pre></td></tr></table></figure>
</li>
<li><p>边界匹配符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">^</span><br><span class="line">行的开头</span><br><span class="line">$</span><br><span class="line">行的结尾</span><br><span class="line">\b</span><br><span class="line">单词的边界</span><br><span class="line">\B</span><br><span class="line">非单词的边界</span><br><span class="line">\A</span><br><span class="line">输入的开头</span><br><span class="line">\z</span><br><span class="line">输入的结尾</span><br><span class="line">\Z</span><br><span class="line">输入的结尾，仅用于最后的结束符</span><br><span class="line">\G</span><br><span class="line">前一个匹配的结尾</span><br></pre></td></tr></table></figure>
</li>
<li><p>数量标识符</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//Greedy贪婪模式：数量标识符，默认采用贪婪模式。表达式会一直匹配下去，直到无法匹配为止。</span><br><span class="line">//Reluctant勉强模式：用问好后缀（?）。表达式只会匹配最少的字符。也叫做最小匹配模式。</span><br><span class="line">//Possessive占有模式：用加号后缀（+）。只有Java支持占有模式。（通常较少使用）</span><br><span class="line">贪婪模式</span><br><span class="line">勉强模式</span><br><span class="line">占有模式</span><br><span class="line">说明</span><br><span class="line">X?</span><br><span class="line">X??</span><br><span class="line">X?+</span><br><span class="line">X表达式出现零次或一次</span><br><span class="line">X*</span><br><span class="line">X*?</span><br><span class="line">X*+</span><br><span class="line">X表达式出现零次或多次</span><br><span class="line">X+</span><br><span class="line">X+?</span><br><span class="line">X++</span><br><span class="line">X表达式出现一次或多次</span><br><span class="line">String s = &quot;hello java!&quot;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//贪婪模式</span><br><span class="line">System.out.println(s.replaceFirst(&quot;\\w*&quot;, &quot;@&quot;));  //输出@ java!</span><br><span class="line">//勉强模式，选择最少匹配字符，也就是选择0次X表达式进行匹配，替换</span><br><span class="line">System.out.println(s.replaceFirst(&quot;\\w*?&quot;, &quot;@&quot;));  //输出@hello java!</span><br><span class="line">//勉强模式</span><br><span class="line">System.out.println(s.replaceFirst(&quot;\\w+?&quot;, &quot;@&quot;));  //输出@ello java!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//举个例子</span><br><span class="line">//s &gt;&gt;&gt;[&quot;xxx&quot;,&quot;yyy&quot;,&quot;zzz&quot;]</span><br><span class="line">String s = &quot;[\&quot;xxx\&quot;,\&quot;yyy\&quot;,\&quot;zzz\&quot;]&quot;;</span><br><span class="line">Log.d(&quot;RegexTestTag&quot;, &quot;s &gt;&gt;&gt;&quot; + s);</span><br><span class="line"></span><br><span class="line">//regex &gt;&gt;&gt;(\[&quot;|&quot;,&quot;|&quot;])</span><br><span class="line">String regex = &quot;(\\[\&quot;|\&quot;,\&quot;|\&quot;\\])&quot;;</span><br><span class="line">Log.d(&quot;RegexTestTag&quot;, &quot;regex &gt;&gt;&gt;&quot; + regex);</span><br><span class="line"></span><br><span class="line">String[] ss = s.split(regex);</span><br><span class="line">for (String sss : ss) &#123;</span><br><span class="line">Log.d(&quot;RegexTestTag&quot;, &quot;sss &gt;&gt;&gt;&quot; + sss);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div></main><footer><div class="paginator"><a href="/tinytinycn.github.io/2017/08/19/03-udacity-访问网络/" class="prev">上一篇</a><a href="/tinytinycn.github.io/2017/08/13/07-AS-Drawable-Importer插件/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2019 <a href="http://github.com">hang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>